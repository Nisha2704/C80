{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import React,{Component}from\"react\";import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import SafeAreaView from\"react-native-web/dist/exports/SafeAreaView\";import Platform from\"react-native-web/dist/exports/Platform\";import StatusBar from\"react-native-web/dist/exports/StatusBar\";import ImageBackground from\"react-native-web/dist/exports/ImageBackground\";import Alert from\"react-native-web/dist/exports/Alert\";import FlatList from\"react-native-web/dist/exports/FlatList\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import Linking from\"react-native-web/dist/exports/Linking\";import Image from\"react-native-web/dist/exports/Image\";import axios from\"axios\";import{withSafeAreaInsets}from\"react-native-safe-area-context\";var UpdateScreen=function(_Component){_inherits(UpdateScreen,_Component);var _super=_createSuper(UpdateScreen);function UpdateScreen(props){var _this;_classCallCheck(this,UpdateScreen);_this=_super.call(this,props);_this.getArticles=function(){axios.get(\"https://spaceflightnewsapi.net/api/v2/articles\").then(function(response){_this.setState({articles:response.data});_this.getReports();}).catch(function(error){Alert.alert(error.message);});};_this.getReports=function(){axios.get(\"https://spaceflightnewsapi.net/api/v2/reports\").then(function(response){_this.setState({reports:response.data});_this.getBlogs();}).catch(function(error){Alert.alert(error.message);});};_this.getBlogs=function(){axios.get(\"https://spaceflightnewsapi.net/api/v2/blogs\").then(function(response){_this.setState({blogs:response.data});}).catch(function(error){Alert.alert(error.message);});};_this.renderItem=function(_ref){var item=_ref.item;var width=50;var url;if(item.type==\"Report\"){url=require(\"../assets/iss_icon.png\");}else{url=require(\"../assets/blog_icon.png\");}if(item.type==\"Article\"){console.log(item.featured_image);return React.createElement(TouchableOpacity,{style:styles.listContainer,onPress:function onPress(){return Linking.openURL(item.url).catch(function(err){return console.error(\"Couldn't load page\",err);});}},React.createElement(Text,{style:styles.cardTitle},item.title),React.createElement(View,{style:styles.iconContainer},React.createElement(Image,{source:{\"uri\":item.imageUrl},style:{width:\"100%\",height:100}})));}else{return React.createElement(TouchableOpacity,{style:styles.listContainer,onPress:function onPress(){return Linking.openURL(item.url).catch(function(err){return console.error(\"Couldn't load page\",err);});}},React.createElement(Text,{style:styles.cardTitle},item.title),React.createElement(View,{style:styles.iconContainer},React.createElement(Image,{source:url,style:{width:width,height:width}})));}};_this.keyExtractor=function(item,index){return index.toString();};_this.addFlag=function(arr,value){for(var i=0;i<arr.length;i++){console.log(arr[i]);arr[i].type=value;}return arr;};_this.state={articles:[],reports:[],blogs:[]};return _this;}_createClass(UpdateScreen,[{key:\"componentDidMount\",value:function componentDidMount(){this.getArticles();}},{key:\"render\",value:function render(){var articles=this.addFlag(this.state.articles,\"Article\");var reports=this.addFlag(this.state.reports,\"Report\");var blogs=this.addFlag(this.state.blogs,\"Blog\");var events=articles.concat(reports).concat(blogs);events=events.sort(function(a,b){return new Date(b.published_date)-new Date(a.published_date);});if(events.length==0){return React.createElement(View,{style:{flex:1,justifyContent:\"center\",alignItems:\"center\"}},React.createElement(Text,null,\"Loading\"));}else{return React.createElement(View,{style:styles.container},React.createElement(SafeAreaView,{style:styles.droidSafeArea}),React.createElement(ImageBackground,{source:require(\"../assets/bg.png\"),style:styles.backgroundImage},React.createElement(View,{style:styles.titleBar},React.createElement(Text,{style:styles.titleText},\"Updates\")),React.createElement(View,{style:styles.eventContainer},React.createElement(FlatList,{keyExtractor:this.keyExtractor,data:events,renderItem:this.renderItem}))));}}}]);return UpdateScreen;}(Component);export{UpdateScreen as default};var styles=StyleSheet.create({container:{flex:1},droidSafeArea:{marginTop:Platform.OS===\"android\"?StatusBar.currentHeight:0},backgroundImage:{flex:1,resizeMode:'cover'},titleBar:{flex:0.15,justifyContent:\"center\",alignItems:\"center\"},titleText:{fontSize:30,fontWeight:\"bold\",color:\"white\"},eventContainer:{flex:0.85},listContainer:{backgroundColor:'rgba(52, 52, 52, 0.5)',justifyContent:\"center\",marginLeft:10,marginRight:10,marginTop:5,borderRadius:10,backgroundColor:'rgba(52, 52, 52, 0.5)',padding:10},cardTitle:{fontSize:20,fontWeight:\"bold\",color:\"white\"},iconContainer:{justifyContent:\"center\",alignItems:\"center\",margin:20}});","map":{"version":3,"sources":["C:/Users/DELL/Desktop/ISS-Tracker-4-main/screens/Updates.js"],"names":["React","Component","axios","withSafeAreaInsets","UpdateScreen","props","getArticles","get","then","response","setState","articles","data","getReports","catch","error","Alert","alert","message","reports","getBlogs","blogs","renderItem","item","width","url","type","require","console","log","featured_image","styles","listContainer","Linking","openURL","err","cardTitle","title","iconContainer","imageUrl","height","keyExtractor","index","toString","addFlag","arr","value","i","length","state","events","concat","sort","a","b","Date","published_date","flex","justifyContent","alignItems","container","droidSafeArea","backgroundImage","titleBar","titleText","eventContainer","StyleSheet","create","marginTop","Platform","OS","StatusBar","currentHeight","resizeMode","fontSize","fontWeight","color","backgroundColor","marginLeft","marginRight","borderRadius","padding","margin"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n    View,\n    Text,\n    StyleSheet,\n    SafeAreaView,\n    Platform,\n    StatusBar,\n    ImageBackground,\n    Alert,\n    FlatList,\n    TouchableOpacity,\n    Linking,\n    Image\n} from \"react-native\";\nimport axios from \"axios\";\nimport { withSafeAreaInsets } from \"react-native-safe-area-context\";\n\nexport default class UpdateScreen extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            articles: [],\n            reports: [],\n            blogs: []\n        };\n    }\n\n    componentDidMount() {\n        this.getArticles()\n    }\n\n    \n    getArticles = () => {\n        axios\n            .get(\"https://spaceflightnewsapi.net/api/v2/articles\")\n            .then(response => {\n                this.setState({ articles: response.data })\n                this.getReports()\n            })\n            .catch(error => {\n                Alert.alert(error.message)\n            })\n    }\n\n    getReports = () => {\n        axios\n            .get(\"https://spaceflightnewsapi.net/api/v2/reports\")\n            .then(response => {\n                this.setState({ reports: response.data })\n                this.getBlogs()\n            })\n            .catch(error => {\n                Alert.alert(error.message)\n            })\n    }\n\n    getBlogs = () => {\n        axios\n            .get(\"https://spaceflightnewsapi.net/api/v2/blogs\")\n            .then(response => {\n                this.setState({ blogs: response.data })\n            })\n            .catch(error => {\n                Alert.alert(error.message)\n            })\n    }\n\n    renderItem = ({ item }) => {\n        let width = 50;\n        let url;\n        if (item.type == \"Report\") {\n            url = require(\"../assets/iss_icon.png\")\n        } else {\n            url = require(\"../assets/blog_icon.png\")\n        }\n        if (item.type == \"Article\") {\n            console.log(item.featured_image)\n            return (\n                <TouchableOpacity style={styles.listContainer}\n                    onPress={() => Linking.openURL(item.url).catch(err => console.error(\"Couldn't load page\", err))}\n                >\n                    <Text style={styles.cardTitle}>{item.title}</Text>\n                    <View style={styles.iconContainer}>\n                        <Image source={{ \"uri\": item.imageUrl}} style={{ width: \"100%\", height: 100 }}></Image>\n                    </View>\n                </TouchableOpacity >\n            );\n        } else {\n            return (\n                <TouchableOpacity style={styles.listContainer}\n                    onPress={() => Linking.openURL(item.url).catch(err => console.error(\"Couldn't load page\", err))}\n                >\n                    <Text style={styles.cardTitle}>{item.title}</Text>\n                    <View style={styles.iconContainer}>\n                        <Image source={url} style={{ width: width, height: width }}></Image>\n                    </View>\n                </TouchableOpacity>\n            );\n        }\n    };\n\n    keyExtractor = (item, index) => index.toString();\n\n    addFlag = (arr, value) => {\n        for (let i = 0; i < arr.length; i++) {\n            console.log(arr[i])\n            arr[i].type = value\n        }\n        return arr\n    }\n\n    render() {\n        let articles = this.addFlag(this.state.articles, \"Article\")\n        let reports = this.addFlag(this.state.reports, \"Report\")\n        let blogs = this.addFlag(this.state.blogs, \"Blog\")\n        let events = articles.concat(reports).concat(blogs)\n        events = events.sort(function (a, b) {\n            return new Date(b.published_date) - new Date(a.published_date);\n        });\n        if (events.length == 0) {\n            return (\n                <View\n                    style={{\n                        flex: 1,\n                        justifyContent: \"center\",\n                        alignItems: \"center\"\n                    }}>\n                    <Text>Loading</Text>\n                </View>\n            )\n        } else {\n            return (\n                <View style={styles.container}>\n                    <SafeAreaView style={styles.droidSafeArea} />\n                    <ImageBackground source={require('../assets/bg.png')} style={styles.backgroundImage}>\n                        <View style={styles.titleBar}>\n                            <Text style={styles.titleText}>Updates</Text>\n                        </View>\n                        <View style={styles.eventContainer}>\n                            <FlatList\n                                keyExtractor={this.keyExtractor}\n                                data={events}\n                                renderItem={this.renderItem}\n                            />\n                        </View>\n                    </ImageBackground>\n                </View >\n            );\n        }\n    }\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1\n    },\n    droidSafeArea: {\n        marginTop: Platform.OS === \"android\" ? StatusBar.currentHeight : 0\n    },\n    backgroundImage: {\n        flex: 1,\n        resizeMode: 'cover',\n    },\n    titleBar: {\n        flex: 0.15,\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    },\n    titleText: {\n        fontSize: 30,\n        fontWeight: \"bold\",\n        color: \"white\"\n    },\n    eventContainer: {\n        flex: 0.85\n    },\n    listContainer: {\n        backgroundColor: 'rgba(52, 52, 52, 0.5)',\n        justifyContent: \"center\",\n        marginLeft: 10,\n        marginRight: 10,\n        marginTop: 5,\n        borderRadius: 10,\n        backgroundColor: 'rgba(52, 52, 52, 0.5)',\n        padding: 10\n    },\n    cardTitle: {\n        fontSize: 20,\n        fontWeight: \"bold\",\n        color: \"white\"\n    },\n    iconContainer: {\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        margin: 20\n    }\n});"]},"metadata":{},"sourceType":"module"}